<app-header></app-header>

<div class="container">
  <h3>Lista de usuario</h3>
  <br />
  <div class="d-flex justify-content-between align-items-center mb-3">
    <!-- Botón -->
    <button type="button" class="btn btn-primary" (click)="rolesDashboard()">Ver Listado Roles</button>

    <!-- Barra de búsqueda centrada -->
    <div class="d-flex align-items-center">
      <div class="input-group rounded">
        <input
          type="search"
          class="form-control rounded"
          placeholder="Search"
          aria-label="Search"
          aria-describedby="search-addon"
          [(ngModel)]="searchTerm"
        />
        <span class="input-group-text border-0" id="search-addon">
          <i class="fas fa-search"></i>
        </span>
      </div>

      <!-- Botón de búsqueda  agregar  -->
      <button type="button" class="btn btn-outline-secondary" (click)="buscarUsuarios()">
        <i class="fas fa-search"></i> Buscar
      </button>
    </div>

    <nav aria-label="...">
      <!--<label for="resultsPerPage">Resultados por página:</label>
      <select id="resultsPerPage" [(ngModel)]="resultsPerPage" (change)="cambiarResultadosPorPagina()">
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>-->

      <ul class="pagination">
      <li class="page-item">
        <a class="page-link" href="#" (click)="pageNumber > 1 ? cambiarNumero(pageNumber - 1, $event) : null"><</a>
      </li>
      <li class="page-item" [class.active]="pageNumber === 1">
        <a class="page-link" href="#" (click)="cambiarNumero(1, $event)">{{ pageNumber }}</a>
      </li>      
      <!-- TODO: fix the limit:Otras páginas aquí -->
      <li class="page-item">
        <a class="page-link" href="#" (click)="cambiarNumero(pageNumber + 1, $event)">></a>
      </li>
    </ul>
    </nav>

  </div>

  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">NOMBRE</th>
        <th scope="col">APELLIDO</th>
        <th scope="col">TIPO_DOCUMENTO</th>
        <th scope="col">DOCUMENTO</th>
        <th scope="col">ESTADO</th>
        <th scope="col">ROL</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of filteredUsers" (click)="editarUsuario(user.id)">
        <th scope="row">{{ user.first_name }}</th>
        <td>{{ user.last_name }}</td>
        <td>{{ user.type_document }}</td>
        <td>{{ user.document }}</td>
        <td>{{ user.is_active }}</td>
        <td>{{ user.role }}</td>
      </tr>
    </tbody>
  </table>
</div>
<app-footer></app-footer>
